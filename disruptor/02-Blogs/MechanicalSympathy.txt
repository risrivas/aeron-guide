###################################
# Blog 1 - Why Mechanical Sympathy
###################################
https://mechanical-sympathy.blogspot.com/2011/07/why-mechanical-sympathy.html

- mastering the underlying hardware / machine is key to write most efficient software


###########################
# Blog 2 - Write Combining
###########################
https://mechanical-sympathy.blogspot.com/2011/07/write-combining.html

- CPU tries to first write to L1 - if the cache miss happens, it will try to hold L2 cache line
- if L2 is not available, it will store the operation or data in "line fill buffers"
- it will write to line buffers and continue executing other instructions, until L2 is available
- for more writes, its still "combined" write into line buffers
- these are 64-byte buffers - same as cache line
- for reads, the same line buffers are used before reading from L2 cache

- if we can fill these line buffers before they are transferred to the outer caches, then we will greatly improve the effective use of the transfer bus at every level

- there are limited number of "line buffers" available - say 4
- so do NOT write to more than 4 distinct memory locations at one time

- code example

- trick is to split the loop to write to less than 4 different memory locations - say array or collection


################################
# Blog 3 - Let the caller chose
################################
https://mechanical-sympathy.blogspot.com/2011/07/let-caller-choose.html

- there are methods in java which returns a collection or array created within the method
- example:
String[] song = "My name is Anthony Gonsalvez".split()

- if small array - young generation and cache miss
- temp structures created as size is not known - garbage created
- lot of CPU work

- alternative - size is known
- api should receive a pre-allocated collection / array so that method itself does not have to create a new array within
- example:
Collection<String> values = new ArrayList<String>();
"My name is Anthony Gonsalvez".split(values, " ");

- if array is very large, it may be allocated in old generation
- large array may cause a compaction of the old generation resulting in a multi-second stop-the-world pause


#######################################
# Blog 4 - Processor Affinity - Part 1
#######################################
https://mechanical-sympathy.blogspot.com/2011/07/processor-affinity-part-1.html

- Processor affinity, or CPU pinning or "cache affinity", enables the binding and unbinding of a process or a thread to a central processing unit (CPU) or a range of CPUs,
so that the process or thread will execute only on the designated CPU or CPUs rather than any CPU







